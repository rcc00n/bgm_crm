{% load static dealer_extras %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ about_copy.meta_title|default:"Bad Guy Motors — Our Story" }}</title>
  {% with meta_title=about_copy.meta_title|default:"Bad Guy Motors — Our Story" meta_description=about_copy.meta_description|default:"Family-run fabrication and diesel performance shop crafting racks, bumpers, coatings, and full builds out of Medicine Hat, AB." meta_section="story" %}
    {% include "includes/marketing_head.html" %}
  {% endwith %}

  <!-- Font preloads -->
  {% if font_settings and font_settings.preload_fonts %}
    {% for font in font_settings.preload_fonts %}
      <link rel="preload" href="{{ font.url }}" as="font" type="{{ font.mime_type|default:'font/ttf' }}" crossorigin>
    {% endfor %}
  {% else %}
    <link rel="preload" href="{% static 'fonts/Diesel.ttf' %}" as="font" type="font/ttf" crossorigin>
    <link rel="preload" href="{% static 'fonts/Inter-Variable.ttf' %}" as="font" type="font/ttf" crossorigin>
  {% endif %}

  <!-- Consolidated styles -->
  <style id="page-styles">
  :root{
    --bg:#000; --fg:#fff; --muted:rgba(255,255,255,.72); --muted-2:rgba(255,255,255,.55);
    --line:rgba(255,255,255,.12); --panel:#0E0E0E; --panel-2:#131313;
    --accent:#d50000; --accent-2:#ff1a1a; --ok:#17d45b;
    --radius-lg:1.25rem; --radius-sm:.6rem; --shadow:0 12px 28px rgba(0,0,0,.55);
    --container:clamp(320px,92vw,1280px);
    --site-header-height:72px;
    --site-header-toggle-size:46px;
    --text-base:clamp(.98rem,1.05vw,1.05rem);
    --text-body:clamp(1.02rem,1.25vw,1.18rem);
    --text-detail:clamp(.9rem,1vw,1rem);
    --font-body:"Inter",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
    --font-head:"Diesel",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  }
  {% if font_settings %}
    {% for font in font_settings.fonts %}
      {% if font.has_source %}
  @font-face{
    font-family:"{{ font.family }}";
    src:url("{{ font.url }}") format("{{ font.format|default:'truetype' }}");
    font-weight:{{ font.weight|default:"400" }};
    font-style:{{ font.style|default:"normal" }};
    font-display:{{ font.display|default:"swap" }};
  }
      {% endif %}
    {% endfor %}
    {% with body_stack=font_settings.body.stack|default:'"Inter",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif' %}
    {% with heading_stack=font_settings.heading.stack|default:'"Diesel",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif' %}
    {% with ui_stack=font_settings.ui.stack|default:body_stack %}
  :root{
    --font-body: {{ body_stack|safe }};
    --font-head: {{ heading_stack|safe }};
    --font-ui:   {{ ui_stack|safe }};
  }
    {% endwith %}
    {% endwith %}
    {% endwith %}
  {% else %}
  @font-face{
    font-family:"Diesel";
    src:url("{% static 'fonts/Diesel.ttf' %}") format("truetype");
    font-weight:100 900; font-style:normal; font-display:swap;
  }
  {% endif %}

  *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
  html{ text-rendering:optimizeLegibility; -webkit-font-smoothing:antialiased; }
  body{ background:var(--bg); color:var(--fg); font-family:var(--font-body); font-size:var(--text-base); line-height:1.65; }
  a{ color:inherit; text-decoration:none }
  .container{ width:var(--container); margin-inline:auto; padding-inline:1rem }

  /* Accessibility */
  .visually-hidden{ position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); border:0; white-space:nowrap; }
  .visually-hidden:focus,.visually-hidden:active{ position:fixed!important; top:12px; left:12px; width:auto; height:auto; margin:0; clip:auto; padding:.75rem 1.25rem; border-radius:.6rem; background:var(--accent); color:#fff; z-index:1200; }
  .sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

  /* Utilities */
  .text-center{ text-align:center }
  .btn-row{ margin-top:.75rem; display:flex; gap:.5rem; flex-wrap:wrap }
  .footer__inner{ display:flex; align-items:center; justify-content:space-between; gap:1rem; flex-wrap:wrap }
  .contact-row__actions{ display:flex; gap:.5rem; flex-wrap:wrap }

  /* Smoke layer */
  #bg{ position:fixed; inset:0; z-index:0; pointer-events:none; }
  #bg canvas{ position:absolute; inset:0; width:100%; height:100%; display:block; }
  .site-header, .hero, main, footer{ position:relative; z-index:1; }

  /* Header / Topbar */
  .site-header{ position:sticky; top:0; z-index:1000; background:#000; border-bottom:1px solid var(--line); }
  .site-header__inner{ display:flex; align-items:center; justify-content:space-between; gap:1.25rem; padding:.7rem 0; }
  .brand{
    display:flex; align-items:baseline; gap:.9rem; min-width:max-content;
    font-weight:var(--topbar-brand-weight, 900);
  }
  .brand__logo{
    display:inline-flex; gap:.4rem; line-height:1;
    font-family:var(--topbar-brand-font, var(--font-body));
    font-weight:var(--topbar-brand-weight, 900);
    font-size:var(--topbar-brand-size, clamp(1.2rem,1.8vw,1.55rem));
    letter-spacing:var(--topbar-brand-letter-spacing, .06em);
    text-transform:var(--topbar-brand-transform, uppercase);
  }
  .brand__word--white{ color:#fff; }
  .brand__word--red{ color:var(--accent); }
  .brand__tagline{
    margin-left:1rem; color:rgba(255,255,255,.78); white-space:nowrap; font-size:clamp(.78rem,.95vw,.95rem);
    font-family:var(--topbar-nav-font, var(--font-body));
    font-weight:900; letter-spacing:.12em; text-transform:uppercase;
  }

  .site-header nav{ margin-left:auto; }
  .site-header nav ul{ display:flex; align-items:center; justify-content:flex-end; gap:1.6rem; list-style:none; flex-wrap:nowrap; }
  .site-header nav a{
    background:none; border:0; border-radius:0; padding:0; line-height:1.15;
    font-family:var(--topbar-nav-font, var(--font-body));
    font-weight:700; letter-spacing:.02em;
    font-size:var(--topbar-nav-size-desktop, .95rem);
    color:rgba(255,255,255,.92); text-transform:none;
  }
  .site-header nav a:hover, .site-header nav a[aria-current="page"]{ color:#fff; }
  .site-header .badge{ padding:.12rem .5rem; font-size:.72rem; transform:translateY(-.04rem); }

  /* Mobile toggle */
  .site-header__toggle{ display:none; align-items:center; justify-content:center; width:var(--site-header-toggle-size); height:var(--site-header-toggle-size); border-radius:.85rem; border:1px solid rgba(255,255,255,.16); background:rgba(255,255,255,.06); color:#fff; cursor:pointer; transition:transform .18s ease, background .18s ease, border-color .18s ease; }
  .site-header__toggle:hover{ background:rgba(255,255,255,.12); border-color:rgba(255,255,255,.28); }
  .site-header__toggle:focus-visible{ outline:2px solid rgba(255,255,255,.92); outline-offset:3px; }
  .site-header__toggle-box{ position:relative; width:20px; height:14px; display:block; }
  .site-header__toggle-lines,.site-header__toggle-lines::before,.site-header__toggle-lines::after{ content:""; position:absolute; left:0; width:100%; height:2px; border-radius:999px; background:currentColor; transition:transform .22s ease, opacity .22s ease, background .22s ease; }
  .site-header__toggle-lines{ top:50%; transform:translateY(-50%); }
  .site-header__toggle-lines::before{ top:-6px; }
  .site-header__toggle-lines::after{ top:6px; }
  .site-header--open .site-header__toggle{ background:rgba(255,255,255,.16); border-color:rgba(255,255,255,.38); }
  .site-header--open .site-header__toggle-lines{ background:transparent; }
  .site-header--open .site-header__toggle-lines::before{ transform:translateY(6px) rotate(45deg); }
  .site-header--open .site-header__toggle-lines::after{ transform:translateY(-6px) rotate(-45deg); }

  /* Buttons/labels */
  .btn{ display:inline-flex; align-items:center; gap:.6em; padding:.78rem 1.15rem; border-radius:var(--radius-sm); font-family:var(--font-body); font-weight:800; letter-spacing:.02em; border:1px solid transparent; cursor:pointer; transition:.2s; line-height:1.15; font-size:.98rem; }
  .btn--primary{ background:var(--accent); color:#fff; }
  .btn--primary:hover{ transform:translateY(-2px); box-shadow:0 12px 22px rgba(213,0,0,.25); }
  .btn--ghost{ background:transparent; border-color:var(--line); color:var(--fg); }
  .btn--ghost:hover{ border-color:var(--accent); color:var(--accent); }
  .badge{ display:inline-block; font-family:var(--font-body); font-weight:800; letter-spacing:.02em; font-size:.78rem; padding:.18rem .6rem; border-radius:999px; background:var(--accent); color:#fff; }

  /* Type scale */
  .title{ font-family:var(--font-head); font-size:clamp(2.2rem,5vw,3.8rem); font-weight:900; line-height:1.12; text-shadow:0 0 18px rgba(213,0,0,.25); }
  h1,h2,h3,h4,h5,h6,.section__title{ font-family:var(--font-head); font-weight:900; }

  /* Hero */
  .hero{ background:transparent; border-bottom:1px solid var(--line); }
  .hero__inner{ display:grid; grid-template-columns:1.1fr .9fr; gap:2rem; align-items:center; padding:clamp(2rem,6vw,4.5rem) 0; }
  .hero__media{ justify-self:start; max-width:min(52vw,720px); position:relative; }
  .hero__media img{ width:100%; height:auto; aspect-ratio:16/9; max-height:clamp(220px,42vh,420px); object-fit:cover; border-radius:1rem; display:block; }
  .hero__disclaimer{ position:absolute; left:1.1rem; bottom:1.1rem; padding:.35rem .9rem; border-radius:.85rem; border:1px solid rgba(255,255,255,.18); background:rgba(0,0,0,.6); color:rgba(255,255,255,.82); font-size:.72rem; letter-spacing:.12em; text-transform:uppercase; display:inline-flex; align-items:center; gap:.45rem; backdrop-filter:blur(6px); }
  .hero__disclaimer::before{ content:""; width:18px; height:1px; background:rgba(255,255,255,.45); flex-shrink:0; }
  .kickers{ display:flex; gap:.5rem; flex-wrap:wrap; margin-top:1rem; }
  .chip{ border:1px solid var(--line); padding:.35rem .6rem; border-radius:999px; font-weight:800; letter-spacing:.3px; font-size:var(--text-detail); }

  /* Sections/Cards */
  .section{ padding:clamp(2rem,6vw,4rem) 0; border-top:1px solid var(--line); }
  .section__title{ font-size:clamp(1.8rem,2.2vw,2.1rem); line-height:1.2; }
  .section__desc{ color:var(--muted); font-size:var(--text-detail); line-height:1.6; }
  .grid{ display:grid; gap:1rem; }
  .grid--2{ grid-template-columns:repeat(auto-fit,minmax(320px,1fr)); }
  .card{ display:flex; flex-direction:column; gap:.65rem; padding:1.1rem; border-radius:1rem; background:linear-gradient(180deg,var(--panel),var(--panel-2)); border:1px solid var(--line); box-shadow:var(--shadow); transition:transform .18s ease, box-shadow .18s ease; }
  .card:hover{ transform:translateY(-2px); box-shadow:0 16px 36px rgba(0,0,0,.55); }
	  .location-card{ display:grid; gap:1rem; align-items:stretch; }
	  .location-card__content{ display:flex; flex-direction:column; gap:.65rem; }
	  .location-address{ white-space:pre-line; }
	  .location-card__map{
	    position:relative;
	    min-height:220px;
	    border-radius:.9rem;
	    overflow:hidden;
    border:1px solid var(--line);
    background:linear-gradient(180deg,#0b0b0b,#0a0a0a);
    box-shadow:inset 0 0 0 1px rgba(255,255,255,.03);
  }
  .location-card__map iframe{ width:100%; height:100%; border:0; display:block; filter:grayscale(.15) contrast(1.05); }
  .location-card__map-overlay{
    position:absolute;
    inset:0;
    background:radial-gradient(circle at 20% 15%, rgba(0,0,0,0), rgba(0,0,0,.35));
    pointer-events:none;
  }
  .location-card__map-link{ position:absolute; right:.6rem; bottom:.6rem; z-index:2; }
  .location-card__map-link .btn{ padding:.55rem .85rem; font-size:.85rem; }
  .story-photo{ display:grid; grid-template-columns:110px 1fr; gap:1rem; align-items:center; padding:.9rem; border:1px solid var(--line); border-radius:.9rem; background:rgba(255,255,255,.03); }
  .story-photo__frame{ width:110px; height:110px; border-radius:.9rem; overflow:hidden; display:flex; align-items:center; justify-content:center; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.08); }
  .story-photo__frame img{ width:100%; height:100%; object-fit:cover; display:block; }
  .story-photo__fallback{ font-weight:900; letter-spacing:.08em; color:#fff; font-size:1.2rem; }
  .story-photo__name{ font-weight:900; font-size:1.05rem; }
  .story-photo__role{ color:var(--muted); font-size:var(--text-detail); }
  .story-photo__caption{ margin-top:.35rem; color:var(--muted); font-size:var(--text-detail); }
  p,.list{ font-size:var(--text-body); line-height:1.65; }
  .list{ margin:.25rem 0 0 1rem; }
  .muted{ color:var(--muted); font-size:var(--text-detail); line-height:1.6; }

  /* Footer */
  .site-footer{ border-top:1px solid var(--line); padding:1.6rem 0; color:var(--muted-2); font-size:var(--text-detail); line-height:1.6; }

  /* AMVIC lockup (forced red) */
  #amvic .card{ isolation:isolate; }
  #amvic .amvic-link{ position:relative; display:inline-block; }
  .card .amvic-link img.amvic-logo,
  #amvic .amvic-link img.amvic-logo{
    opacity:1!important; mix-blend-mode:normal!important;
    filter:brightness(0) saturate(100%) invert(13%) sepia(95%) saturate(5278%) hue-rotate(357deg) brightness(92%) contrast(112%)!important;
    transition:none!important; display:inline-block!important;
  }
  #amvic .card a img,#amvic .card:hover a img,#amvic .amvic-logo{
    opacity:1!important; visibility:visible!important; mix-blend-mode:normal!important;
    filter:brightness(0) saturate(100%) invert(13%) sepia(95%) saturate(5278%) hue-rotate(357deg) brightness(92%) contrast(112%)!important;
    transition:none!important; position:relative!important; z-index:2!important;
  }
  #amvic .card a::before,#amvic .card a::after{ content:none!important; display:none!important; }
  .amvic-logo{ max-width:220px; height:auto; margin-top:.75rem; }

  /* Responsive */
  @media (max-width:1080px){
    .site-header .brand__tagline{ display:none!important; }
  }
  @media (max-width:960px){
    body.nav-open{ overflow:hidden; }
    .site-header{ --site-header-height:max(62px,10vh); }
    .site-header .container{ padding-inline:clamp(16px,4vw,24px); }
    .site-header__inner{ display:grid; grid-template-columns:auto max-content; align-items:center; gap:clamp(12px,3vw,24px); }
    .site-header__toggle{ display:inline-flex; }
    .site-header nav{
      position:fixed; inset:0; padding-top:calc(var(--site-header-height) + 1rem);
      padding-inline:clamp(20px,6vw,36px); padding-bottom:clamp(28px,12vh,46px);
      background:rgba(5,5,5,.88); backdrop-filter:blur(18px) saturate(1.2);
      display:flex; align-items:flex-start; justify-content:flex-start;
      opacity:0; pointer-events:none; transform:translateY(-12px);
      transition:opacity .22s ease, transform .22s ease; z-index:2400;
    }
    .site-header nav ul{ flex-direction:column; align-items:stretch; gap:.45rem; width:100%; }
    .site-header nav li{ width:100%; }
    .site-header nav a,.site-header nav .btn,.site-header nav .btn--ghost{
      width:100%; justify-content:space-between; background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08); border-radius:.85rem; padding:.95rem 1rem; font-size:1.05rem; letter-spacing:.035em;
    }
    .site-header nav a:hover,.site-header nav a[aria-current="page"],.site-header nav .btn:hover{
      background:rgba(255,255,255,.1); border-color:rgba(255,255,255,.22); color:#fff;
    }
    .site-header--open nav{ opacity:1; pointer-events:auto; transform:translateY(0); }
    body.nav-open .contact-fab{ display:none!important; }

    .hero__inner{ grid-template-columns:1fr; }
    .hero__media{ max-width:100%; }
    .hero__disclaimer{ position:static; margin-top:.85rem; backdrop-filter:none; }
  }
  @media (min-width:900px){
    .location-card{ grid-template-columns:1.1fr .9fr; }
  }
  @media (max-width:600px){
    .location-card__map{ min-height:180px; }
  }

  /* Contact FAB + Modal */
  .contact-fab{
    position:fixed; right:22px; bottom:22px; z-index:2100;
    display:inline-flex; align-items:center; gap:.6em;
    padding:.9rem 1.15rem; border-radius:999px; border:1px solid rgba(255,255,255,.08);
    background:linear-gradient(180deg,var(--accent) 0%, #b60000 100%); color:#fff; font-weight:900; letter-spacing:.02em; line-height:1;
    cursor:pointer; box-shadow:0 12px 26px rgba(213,0,0,.28), 0 0 26px rgba(213,0,0,.18); transition:.18s ease; font-family:"Helvetica Neue", Arial, sans-serif; font-style:normal;
  }
  .contact-fab:hover{ transform:translateY(-2px); filter:saturate(1.05); }
  .contact-fab:focus-visible{ outline:2px solid #fff; outline-offset:3px; }
  .contact-fab svg{ width:20px; height:20px; fill:currentColor; opacity:.95; }

  .contact-modal{ position:fixed; inset:0; z-index:2200; display:none; align-items:center; justify-content:center; padding:1rem; background:rgba(0,0,0,.65); backdrop-filter:blur(2px); }
  .contact-modal[open]{ display:flex; }
  .contact-dialog{ width:min(560px,92vw); background:linear-gradient(180deg,#0c0c0c,#121212); border:1px solid var(--line); border-radius:1rem; padding:1.1rem 1.1rem .95rem; color:#eaeaea; box-shadow:0 18px 44px rgba(0,0,0,.55), 0 0 32px rgba(213,0,0,.18); position:relative; }
  .contact-title{ font-family:var(--font-head); font-weight:900; letter-spacing:.005em; line-height:1.15; font-size:1.6rem; margin:.2rem 2.2rem 1rem .2rem; color:#fff; }
  .contact-close{ position:absolute; right:12px; top:10px; width:36px; height:36px; border:1px solid var(--line); border-radius:.5rem; background:#0f0f0f; color:#bdbdbd; cursor:pointer; font-size:20px; line-height:1; }
  .contact-body{ display:grid; gap:.75rem; }
  .contact-row{ display:flex; align-items:center; justify-content:space-between; gap:.6rem; background:rgba(255,255,255,.06); border:1px solid var(--line); border-radius:.7rem; padding:.7rem .8rem; font-family:"Helvetica Neue", Arial, sans-serif; font-style:normal; font-size:var(--text-body); line-height:1.55; }
  .contact-row a{ color:#fff; font-weight:800; text-decoration:none; }
  .contact-sub{ color:rgba(255,255,255,.72); font-size:var(--text-detail); line-height:1.5; }
  .contact-actions{ display:flex; gap:.6rem; margin-top:.9rem; flex-wrap:wrap; }
  .contact-btn{ display:inline-flex; align-items:center; gap:.5em; padding:.7rem 1rem; border-radius:.55rem; border:1px solid var(--line); background:#0f0f0f; color:#fff; cursor:pointer; font-family:"Helvetica Neue", Arial, sans-serif; font-weight:800; font-style:normal; font-size:var(--text-base); line-height:1.4; }
  .contact-btn:hover{ border-color:rgba(213,0,0,.45); box-shadow:0 0 16px rgba(213,0,0,.25); }
  @media (max-width:640px){
    .contact-fab{ right:14px; bottom:14px; }
    .contact-title{ font-size:1.45rem; }
  }

  /* Mobile nav spacing upgrade */
@media (max-width:960px){
  /* Больше расстояния между кнопками */
  .site-header nav ul{
    gap: clamp(.75rem, 2.2vh, 1.1rem) !important; /* ~12–18px */
  }

  /* Кнопки крупнее и ровнее внутри */
  .site-header nav a,
  .site-header nav .btn,
  .site-header nav .btn--ghost{
    display:flex;                 /* чтобы текст и бейдж выравнивались по центру */
    align-items:center;
    justify-content:space-between;
    gap:.75rem;
    width:100% !important;
    padding: clamp(1rem, 1.8vh, 1.15rem) clamp(1rem, 4vw, 1.25rem) !important; /* больше «воздуха» */
    border-radius:1rem !important;
    min-height:52px;              /* комфортный тач‑таргет */
    line-height:1.2;
  }

  /* Убираем микро‑сдвиг бейджа, чтобы он не залезал на следующую кнопку */
  .site-header .badge{
    margin-left:.5rem;
    transform:none !important;
  }

  /* Полностью полагаемся на gap, чтобы не было случайных наслоений */
  .site-header nav li{ margin:0 !important; }
}

  </style>
</head>

<body>
  {% include "includes/marketing_body.html" %}

  <!-- Smoke layer -->
  <div id="bg"></div>

  <a href="#main" class="visually-hidden">{{ about_copy.skip_to_main_label|default:"Skip to main content" }}</a>

  <!-- Topbar -->
  {% with current='about' %}
    {% include "includes/topbar_client_v3.html" %}
  {% endwith %}

  <!-- Hero -->
  <section class="hero">
    <div class="container hero__inner">
      <div class="hero__copy">
        <h1 class="title">{{ about_copy.hero_title }}</h1>
        <p class="lead">{{ about_copy.hero_lead|striptags|safe }}</p>
        <div class="kickers">
          <span class="chip">{{ about_copy.hero_chip_1 }}</span>
          <span class="chip">{{ about_copy.hero_chip_2 }}</span>
          <span class="chip">{{ about_copy.hero_chip_3 }}</span>
        </div>
      </div>

      <div class="hero__media frame frame--media">
        <img src="{% static 'img/hero-about.jpg' %}" alt="{{ about_copy.hero_image_alt }}" loading="lazy" decoding="async">
        <p class="hero__disclaimer">{{ about_copy.hero_disclaimer }}</p>
      </div>
    </div>
  </section>

  <main id="main">
    <!-- Row 1 -->
    <section class="section">
      <div class="container grid grid--2">
	        <article class="card">
	          <h2 class="section__title">{{ about_copy.story_title }}</h2>
	          <p>{{ about_copy.story_paragraph_1|striptags|safe }}</p>
	          <p class="muted">{{ about_copy.story_paragraph_2|striptags|safe }}</p>
	          <div class="story-photo">
	            <div class="story-photo__frame">
	              {% if about_copy.story_photo %}
	                <img src="{{ about_copy.story_photo.url }}" alt="{{ about_copy.story_photo_alt }}" loading="lazy" decoding="async">
	              {% else %}
                <span class="story-photo__fallback">{{ about_copy.story_photo_placeholder }}</span>
              {% endif %}
            </div>
            <div class="story-photo__meta">
              <div class="story-photo__name">{{ about_copy.story_photo_title }}</div>
              <div class="story-photo__role">{{ about_copy.story_photo_subtitle }}</div>
              {% if about_copy.story_photo_caption %}<p class="story-photo__caption">{{ about_copy.story_photo_caption }}</p>{% endif %}
            </div>
          </div>
        </article>

        <article class="card">
          <h2 class="section__title">{{ about_copy.build_title }}</h2>
          <ul class="list">
            <li>{{ about_copy.build_item_1 }}</li>
            <li>{{ about_copy.build_item_2 }}</li>
            <li>{{ about_copy.build_item_3 }}</li>
            <li>{{ about_copy.build_item_4 }}</li>
            <li>{{ about_copy.build_item_5 }}</li>
            <li>{{ about_copy.build_item_6 }}</li>
            <li>{{ about_copy.build_item_7 }}</li>
            <li>{{ about_copy.build_item_8 }}</li>
          </ul>
        </article>
      </div>
    </section>

    <!-- Row 2 -->
    <section class="section">
      <div class="container grid grid--2">
        <article class="card">
          <h2 class="section__title">{{ about_copy.how_title }}</h2>
          <ul class="list">
            <li><strong>{{ about_copy.how_step_1_title }}:</strong> {{ about_copy.how_step_1_desc }}</li>
            <li><strong>{{ about_copy.how_step_2_title }}:</strong> {{ about_copy.how_step_2_desc }}</li>
            <li><strong>{{ about_copy.how_step_3_title }}:</strong> {{ about_copy.how_step_3_desc }}</li>
            <li><strong>{{ about_copy.how_step_4_title }}:</strong> {{ about_copy.how_step_4_desc }}</li>
          </ul>
        </article>

        <article class="card">
          <h2 class="section__title">{{ about_copy.rates_title }}</h2>
          <ul class="list">
            <li>{{ about_copy.rates_shop_label }}: <strong>{{ currency.code }} {{ currency.symbol }}{{ about_copy.rates_shop_value }}</strong></li>
            <li>{{ about_copy.rates_cad_label }}: <strong>{{ currency.code }} {{ currency.symbol }}{{ about_copy.rates_cad_value }}</strong></li>
            {% for policy in about_copy.rates_policies|split_lines %}
              <li>{{ policy }}</li>
            {% endfor %}
          </ul>
        </article>
      </div>
    </section>

    <!-- Location -->
    <section class="section">
      <div class="container">
        {% with map_query=about_copy.location_address|urlencode %}
	        <article class="card location-card">
	          <div class="location-card__content">
	            <h2 class="section__title">{{ about_copy.location_title }}</h2>
	            <div class="location-address">{{ about_copy.location_address|safe }}</div>
	            <p class="muted">{{ about_copy.location_note|striptags|safe }}</p>
	            <div class="btn-row">
	              <a class="btn btn--primary" href="{% url 'client-dashboard' %}#services">{{ about_copy.location_primary_cta_label }}</a>
	              {% if user.is_authenticated %}
	                <a class="btn btn--ghost" href="{% url 'dashboard' %}">{{ about_copy.location_secondary_cta_label }}</a>
	              {% else %}
                <a class="btn btn--ghost" href="{% url 'login' %}?next={% url 'dashboard' %}">{{ about_copy.location_secondary_cta_label }}</a>
              {% endif %}
            </div>
          </div>
          <div class="location-card__map">
            <iframe
              title="Map to {{ about_copy.location_title }}"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              src="https://www.google.com/maps?q={{ map_query }}&output=embed"></iframe>
            <div class="location-card__map-overlay" aria-hidden="true"></div>
            <div class="location-card__map-link">
              <a class="btn btn--ghost" href="https://www.google.com/maps/search/?api=1&query={{ map_query }}" target="_blank" rel="noopener">
                Open in Google Maps
              </a>
            </div>
          </div>
        </article>
        {% endwith %}
      </div>
    </section>
  </main>

  <!-- Compliance / AMVIC -->
  <section class="section" id="amvic">
    <div class="container">
      <article class="card text-center">
        <h2 class="section__title">{{ about_copy.amvic_title }}</h2>
        <a class="amvic-link" href="https://www.amvic.org/business/advertising/" target="_blank" rel="noopener">
          <img class="amvic-logo" src="{% static 'img/amvic-logo.png' %}" alt="AMVIC Licensed Business">
        </a>
        <p class="muted" style="margin-top:.6rem">{{ about_copy.amvic_description }}</p>
      </article>
    </div>
  </section>

  {% include "includes/site_footer.html" %}

  <!-- Smoke scripts (kept consistent with other pages) -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
  <script src="{% static 'admin/js/bgm-smoke.js' %}"></script>

  <!-- Contact FAB -->
  <button type="button" id="contactFab" class="contact-fab"
          aria-haspopup="dialog" aria-controls="contactModal" aria-expanded="false">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M6.6 10.8c1.5 2.9 3.7 5.1 6.6 6.6l2.2-2.2c.3-.3.8-.4 1.2-.3 1 .3 2.1.5 3.2.5.7 0 1.2.5 1.2 1.2v3.5c0 .7-.5 1.2-1.2 1.2C9.8 21.5 2.5 14.2 2.5 4.2c0-.7.5-1.2 1.2-1.2H7c.7 0 1.2.5 1.2 1.2 0 1.1.2 2.2.5 3.2.1.4 0 .9-.3 1.2L6.6 10.8z"/>
    </svg>
    {{ about_copy.contact_fab_label }}
  </button>

  <div id="contactModal" class="contact-modal" role="dialog" aria-modal="true" aria-labelledby="contactTitle">
    <div class="contact-dialog">
      <button class="contact-close" type="button" aria-label="{{ about_copy.contact_close_label }}">×</button>
      <h2 id="contactTitle" class="contact-title">{{ about_copy.contact_modal_title }}</h2>

      <div class="contact-body">
        <div class="contact-row">
          <div>
            <div><a href="mailto:support@badguymotors.com">support@badguymotors.com</a></div>
            <div class="contact-sub">{{ about_copy.contact_email_label }}</div>
          </div>
          <button class="contact-btn" data-copy="support@badguymotors.com" type="button">{{ about_copy.contact_copy_label }}</button>
        </div>

        <div class="contact-row">
          <div>
            <div><a href="tel:+14035250432">(403) 525-0432</a></div>
            <div class="contact-sub">{{ about_copy.contact_phone_label }}</div>
          </div>
          <div class="contact-row__actions">
            <a class="contact-btn" href="tel:+14035250432">{{ about_copy.contact_call_label }}</a>
            <button class="contact-btn" data-copy="+1 403 525 0432" type="button">{{ about_copy.contact_copy_label }}</button>
          </div>
        </div>

        <div class="contact-actions">
          <a class="contact-btn" href="mailto:support@badguymotors.com?subject=Inquiry%20from%20website">{{ about_copy.contact_write_email_label }}</a>
          <a class="contact-btn" href="sms:+14035250432">{{ about_copy.contact_text_label }}</a>
        </div>
      </div>
    </div>
  </div>

  <script src="{% static 'js/topbar.js' %}"></script>

  <!-- Contact modal + clipboard -->
  <script id="ui-js">
  (() => {
    const fab   = document.getElementById('contactFab');
    const modal = document.getElementById('contactModal');
    if (fab && modal){
      const closeBtn = modal.querySelector('.contact-close');
      let lastFocus = null;
      const copyLabel = "{{ about_copy.contact_copy_label|escapejs }}";
      const copySuccess = "{{ about_copy.contact_copy_success_label|escapejs }}";
      const copyFailed = "{{ about_copy.contact_copy_failed_label|escapejs }}";

      const onKey = (e) => {
        if (e.key === 'Escape') closeModal();
        if (e.key === 'Tab'){
          const focusables = modal.querySelectorAll('a,button,[tabindex]:not([tabindex="-1"])');
          const list = [...focusables].filter(el => !el.disabled && el.offsetParent !== null);
          if (!list.length) return;
          const first = list[0], last = list[list.length - 1];
          if (e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
          else if (!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
        }
      };

      function openModal(){
        lastFocus = document.activeElement;
        modal.setAttribute('open','');
        fab.setAttribute('aria-expanded','true');
        setTimeout(()=>closeBtn && closeBtn.focus(),0);
        document.addEventListener('keydown', onKey);
      }
      function closeModal(){
        modal.removeAttribute('open');
        fab.setAttribute('aria-expanded','false');
        lastFocus && lastFocus.focus();
        document.removeEventListener('keydown', onKey);
      }

      fab.addEventListener('click', openModal);
      closeBtn && closeBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e)=>{ if (e.target === modal) closeModal(); });

      modal.querySelectorAll('[data-copy]').forEach(btn=>{
        btn.addEventListener('click', async ()=>{
          try{
            await navigator.clipboard.writeText(btn.dataset.copy);
            btn.textContent=copySuccess;
            setTimeout(()=>btn.textContent=copyLabel,1200);
          }catch{
            btn.textContent=copyFailed;
            setTimeout(()=>btn.textContent=copyLabel,1200);
          }
        });
      });
    }
  })();
  </script>

  {% include "includes/analytics_tracker.html" %}
</body>
</html>
