<!-- {% extends "base.html" %}
{% block content %}
<h1 class="title">–í—Ö–æ–¥ –≤ Malva Booking</h1>
<form method="post" class="login-form">{% csrf_token %}
  {{ form.non_field_errors }}
  <div>{{ form.username.label_tag }} {{ form.username }}</div>
  <div>{{ form.password.label_tag }} {{ form.password }}</div>
  <button type="submit">–í–æ–π—Ç–∏</button>
</form>
{% endblock %} -->

<!DOCTYPE html>
<html lang="ru" x-data="{ tab: 'dashboard' }" class="h-full">
<head>
    <meta charset="utf-8">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç | Malva Booking (DEMO)</title>

    <!-- Tailwind CSS JIT CDN -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>

    <!-- Alpine JS (–≤–∫–ª–∞–¥–∫–∏)  +  Chart.js (–≥—Ä–∞—Ñ–∏–∫) -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <style>
        /* –°–∫—Ä—ã–≤–∞–µ–º —Å–µ–∫—Ü–∏–∏ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è Alpine */
        [x-cloak]{display:none!important}
    </style>
</head>
<body class="h-full bg-gray-100 text-gray-800">

<div class="min-h-screen flex">

    <!-- ‚ñ∏‚ñ∏ SIDEBAR ‚óÇ‚óÇ -->
    <aside class="w-64 bg-white shadow-lg">
        <div class="p-6 font-bold text-indigo-600 text-xl">Malva</div>
        <nav class="space-y-1 px-4 text-sm">
            <a href="#" @click.prevent="tab='dashboard'"
               :class="{'bg-indigo-50 text-indigo-700':tab==='dashboard'}"
               class="flex items-center gap-3 px-3 py-2 rounded-md hover:bg-indigo-50">
                üè† <span>–û–±–∑–æ—Ä</span>
            </a>
            <a href="#" @click.prevent="tab='appointments'"
               :class="{'bg-indigo-50 text-indigo-700':tab==='appointments'}"
               class="flex items-center gap-3 px-3 py-2 rounded-md hover:bg-indigo-50">
                üìÖ <span>–ó–∞–ø–∏—Å–∏</span>
            </a>
            <a href="#" @click.prevent="tab='files'"
               :class="{'bg-indigo-50 text-indigo-700':tab==='files'}"
               class="flex items-center gap-3 px-3 py-2 rounded-md hover:bg-indigo-50">
                üìÇ <span>–§–∞–π–ª—ã</span>
            </a>
            <a href="#" @click.prevent="tab='notifications'"
               :class="{'bg-indigo-50 text-indigo-700':tab==='notifications'}"
               class="flex items-center gap-3 px-3 py-2 rounded-md hover:bg-indigo-50">
                üîî <span>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
            </a>
            <a href="#" @click.prevent="tab='profile'"
               :class="{'bg-indigo-50 text-indigo-700':tab==='profile'}"
               class="flex items-center gap-3 px-3 py-2 rounded-md hover:bg-indigo-50">
                üë§ <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
            </a>
        </nav>
    </aside>

    <!-- ‚ñ∏‚ñ∏ MAIN ‚óÇ‚óÇ -->
    <main class="flex-1 p-8 overflow-y-auto">

        <!-- DASHBOARD -->
        <section x-show="tab==='dashboard'" x-cloak>
            <h1 class="text-3xl font-bold mb-8">–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –ê–Ω–Ω–∞!</h1>

            <div class="grid lg:grid-cols-3 gap-6">
                <!-- –ë–ª–∏–∂–∞–π—à–∏–π –≤–∏–∑–∏—Ç -->
                <div class="bg-white rounded-xl shadow p-6">
                    <h2 class="text-lg font-semibold mb-4">–ë–ª–∏–∂–∞–π—à–∏–π –≤–∏–∑–∏—Ç</h2>
                    <p class="font-medium">5 –∞–≤–≥—É—Å—Ç–∞ 2025, 14:00</p>
                    <p class="text-sm text-gray-600">–ì–µ–ª—å-–ª–∞–∫ ¬∑ –ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞</p>
                    <div class="mt-4 flex gap-4">
                        <button class="text-red-600 hover:underline text-sm">–û—Ç–º–µ–Ω–∏—Ç—å</button>
                        <button class="text-indigo-600 hover:underline text-sm">–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏</button>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="bg-white rounded-xl shadow p-6 lg:col-span-2">
                    <h2 class="text-lg font-semibold mb-4">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                    <canvas id="stats_chart" class="w-full h-56"></canvas>
                </div>
            </div>

            <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–∏–∑–∏—Ç—ã -->
            <div class="bg-white rounded-xl shadow p-6 mt-8">
                <h2 class="text-lg font-semibold mb-4">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–∏–∑–∏—Ç—ã</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full text-sm">
                        <thead>
                        <tr class="text-left text-gray-500 border-b">
                            <th class="py-2 pr-4">–î–∞—Ç–∞</th>
                            <th class="py-2 pr-4">–£—Å–ª—É–≥–∞</th>
                            <th class="py-2 pr-4">–ú–∞—Å—Ç–µ—Ä</th>
                            <th class="py-2 pr-4">–°—Ç–∞—Ç—É—Å</th>
                            <th class="py-2">–°—É–º–º–∞</th>
                        </tr>
                        </thead>
                        <tbody>
                        <!-- DEMO-–¥–∞–Ω–Ω—ã–µ: –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ü–∏–∫–ª Django -->
                        <tr class="border-b">
                            <td class="py-2 pr-4 whitespace-nowrap">15.07.2025 12:00</td>
                            <td class="py-2 pr-4">–ú–∞–Ω–∏–∫—é—Ä –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π</td>
                            <td class="py-2 pr-4">–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞</td>
                            <td class="py-2 pr-4">–ó–∞–≤–µ—Ä—à—ë–Ω</td>
                            <td class="py-2">2 000 ‚ÇΩ</td>
                        </tr>
                        <tr class="border-b">
                            <td class="py-2 pr-4">01.06.2025 10:30</td>
                            <td class="py-2 pr-4">–ü–µ–¥–∏–∫—é—Ä</td>
                            <td class="py-2 pr-4">–û–ª—å–≥–∞ –°–∏–¥–æ—Ä–æ–≤–∞</td>
                            <td class="py-2 pr-4">–ó–∞–≤–µ—Ä—à—ë–Ω</td>
                            <td class="py-2">2 500 ‚ÇΩ</td>
                        </tr>
                        <tr>
                            <td class="py-2 pr-4">20.04.2025 09:00</td>
                            <td class="py-2 pr-4">–£–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –≥–µ–ª–µ–º</td>
                            <td class="py-2 pr-4">–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞</td>
                            <td class="py-2 pr-4">–ó–∞–≤–µ—Ä—à—ë–Ω</td>
                            <td class="py-2">3 000 ‚ÇΩ</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- APPOINTMENTS -->
        <section x-show="tab==='appointments'" x-cloak>
            <div class="flex items-center mb-6">
                <h2 class="text-2xl font-semibold">–ú–æ–∏ –∑–∞–ø–∏—Å–∏</h2>
                <button class="ml-auto px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700">
                    + –ó–∞–ø–∏—Å–∞—Ç—å—Å—è
                </button>
            </div>

            <!-- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ -->
            <div class="space-y-4">
                <div class="bg-white shadow rounded-lg p-4 flex justify-between items-center">
                    <div>
                        <p class="font-medium">10 —Å–µ–Ω—Ç—è–±—Ä—è 2025, 11:00</p>
                        <p class="text-sm text-gray-600">–°–Ω—è—Ç–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è ¬∑ –û–ª—å–≥–∞ –°–∏–¥–æ—Ä–æ–≤–∞</p>
                    </div>
                    <div class="flex gap-3 text-sm">
                        <button class="text-red-600 hover:underline">–û—Ç–º–µ–Ω–∏—Ç—å</button>
                        <button class="text-indigo-600 hover:underline">–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏</button>
                    </div>
                </div>
                <div class="bg-white shadow rounded-lg p-4 flex justify-between items-center opacity-50">
                    <div>
                        <p class="font-medium">15 –∏—é–ª—è 2025, 12:00</p>
                        <p class="text-sm text-gray-600">–ú–∞–Ω–∏–∫—é—Ä –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π ¬∑ –ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞</p>
                    </div>
                    <span class="text-xs text-gray-500">–ó–∞–≤–µ—Ä—à—ë–Ω</span>
                </div>
            </div>
        </section>

        <!-- FILES -->
        <section x-show="tab==='files'" x-cloak>
            <h2 class="text-2xl font-semibold mb-6">–§–∞–π–ª—ã</h2>

            <!-- –ó–∞–≥—Ä—É–∑–∫–∞ (–¥–µ–º–æ-–∫–Ω–æ–ø–∫–∞) -->
            <div class="flex items-center gap-4 mb-8">
                <input type="file" class="grow rounded-lg border border-gray-300 text-sm
                       file:bg-indigo-600 file:text-white file:border-0 file:px-4 file:py-2 file:mr-4">
                <button class="px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">
                    –ó–∞–≥—Ä—É–∑–∏—Ç—å
                </button>
            </div>

            <!-- –°–µ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center text-sm">
                <div class="flex flex-col items-center">
                    <img src="https://via.placeholder.com/120x160" class="rounded-lg shadow">
                    <span class="mt-2">price_list.pdf</span>
                </div>
                <div class="flex flex-col items-center">
                    <img src="https://via.placeholder.com/120x160/EEE" class="rounded-lg shadow">
                    <span class="mt-2">contract.docx</span>
                </div>
                <div class="flex flex-col items-center">
                    <img src="https://via.placeholder.com/120x160/DDD" class="rounded-lg shadow">
                    <span class="mt-2">design.png</span>
                </div>
            </div>
        </section>

        <!-- NOTIFICATIONS -->
        <section x-show="tab==='notifications'" x-cloak>
            <h2 class="text-2xl font-semibold mb-6">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>

            <div class="bg-white shadow rounded-xl divide-y">
                <div class="p-4">
                    <p class="font-medium">–ó–∞–ø–∏—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞</p>
                    <p class="text-xs text-gray-500">4 —á –Ω–∞–∑–∞–¥</p>
                </div>
                <div class="p-4">
                    <p class="font-medium">–ü—Ä–∏–≥–ª–∞—à–∞–µ–º –æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</p>
                    <p class="text-xs text-gray-500">1 –¥–µ–Ω—å –Ω–∞–∑–∞–¥</p>
                </div>
            </div>
        </section>

        <!-- PROFILE -->
        <section x-show="tab==='profile'" x-cloak>
            <h2 class="text-2xl font-semibold mb-6">–ü—Ä–æ—Ñ–∏–ª—å</h2>

            <form class="grid md:grid-cols-2 gap-6 bg-white shadow rounded-xl p-6">
                <div>
                    <label class="block text-sm font-medium">–ò–º—è</label>
                    <input type="text" value="–ê–Ω–Ω–∞" class="w-full mt-1 rounded-lg border-gray-300 px-3 py-2 text-sm">
                </div>
                <div>
                    <label class="block text-sm font-medium">–§–∞–º–∏–ª–∏—è</label>
                    <input type="text" value="–ü–µ—Ç—Ä–æ–≤–∞" class="w-full mt-1 rounded-lg border-gray-300 px-3 py-2 text-sm">
                </div>
                <div>
                    <label class="block text-sm font-medium">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="text" value="+7 900 123-45-67" class="w-full mt-1 rounded-lg border-gray-300 px-3 py-2 text-sm">
                </div>
                <div>
                    <label class="block text-sm font-medium">E-mail</label>
                    <input type="email" value="anna@example.com" class="w-full mt-1 rounded-lg border-gray-300 px-3 py-2 text-sm">
                </div>
                <div>
                    <label class="block text-sm font-medium">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                    <input type="date" value="1995-04-12" class="w-full mt-1 rounded-lg border-gray-300 px-3 py-2 text-sm">
                </div>

                <div class="md:col-span-2 text-right">
                    <button type="button"
                            class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700">
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                </div>
            </form>
        </section>

    </main>
</div>

<!-- ‚ñ∏‚ñ∏ JS ‚óÇ‚óÇ : –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    const el = document.getElementById('stats_chart');
    if (!el) return;

    /* DEMO-–¥–∞–Ω–Ω—ã–µ: –º–µ—Å—è—Ü—ã + –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–∑–∏—Ç–æ–≤ */
    const labels = ['–Ø–Ω–≤','–§–µ–≤','–ú–∞—Ä','–ê–ø—Ä','–ú–∞–π','–ò—é–Ω','–ò—é–ª'];
    const values = [1,2,2,3,4,3,2];

    new Chart(el, {
        type: 'bar',
        data: {labels, datasets:[{data:values, label:'–í–∏–∑–∏—Ç—ã'}]},
        options: {
            plugins:{legend:{display:false}},
            scales:{y:{beginAtZero:true,ticks:{stepSize:1}}}
        }
    });
});
</script>
</body>
</html>

