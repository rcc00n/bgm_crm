{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Set new password • Bad Guy Motors</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
{% with meta_title="Set new password • Bad Guy Motors" meta_description="Choose a new password for your account." meta_section="auth" meta_robots="noindex,nofollow" %}
  {% include "includes/marketing_head.html" %}
{% endwith %}
<link rel="preload" href="{% static 'fonts/Diesel.ttf' %}" as="font" type="font/ttf" crossorigin>
<style>
@font-face{
  font-family:"Diesel";
  src:url("{% static 'fonts/Diesel.ttf' %}") format("truetype");
  font-weight:100 900;
  font-style:normal;
  font-display:swap;
}
:root{
  --bg:#0a0a0a;
  --ink:#eaeaea;
  --muted:#bdbdbd;
  --red:#d50000;
  --red-dark:#b60000;
  --card-bg:rgba(18,18,18,.85);
  --card-border:rgba(255,255,255,.08);
  --field-bg:rgba(255,255,255,.06);
  --error-bg:#3b0000;
  --error-text:#ff8a80;
}
*{box-sizing:border-box;}
body{
  margin:0;min-height:100vh;padding:32px;
  background:var(--bg);color:var(--ink);
  font-family:"Diesel", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  display:flex;align-items:center;justify-content:center;
}
.card{
  width:100%;max-width:520px;padding:36px 40px;
  background:var(--card-bg);border:1px solid var(--card-border);
  border-radius:24px;box-shadow:0 20px 60px rgba(0,0,0,.45);
}
h1{margin:0 0 12px;font-size:1.9rem;}
p{margin:0 0 18px;color:var(--muted);}
label{display:block;margin:0 0 8px;font-weight:600;}
input{
  width:100%;padding:14px 16px;border-radius:14px;
  border:1px solid rgba(255,255,255,.15);
  background:var(--field-bg);color:#fff;font-size:16px;
}
button{
  width:100%;margin-top:18px;padding:14px 16px;border:none;border-radius:999px;
  background:linear-gradient(135deg,var(--red) 0%,var(--red-dark) 100%);
  color:#fff;font-size:16px;font-weight:700;cursor:pointer;
}
.errorlist{
  margin:0 0 14px;padding:12px 16px;list-style:none;font-size:14px;border-radius:14px;
  background:var(--error-bg);color:var(--error-text);
}
</style>
</head>
<body>
{% include "includes/marketing_body.html" %}
  <div class="card">
    {% if validlink %}
      <h1>Set a new password</h1>
      <p>Choose a strong password you will remember.</p>
      <form method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}
        <label for="{{ form.new_password1.id_for_label }}">New password</label>
        {{ form.new_password1 }}
        {{ form.new_password1.errors }}
        <label for="{{ form.new_password2.id_for_label }}" style="margin-top:14px;">Confirm new password</label>
        {{ form.new_password2 }}
        {{ form.new_password2.errors }}
        <button type="submit">Update password</button>
      </form>
    {% else %}
      <h1>Link expired</h1>
      <p>This password reset link is invalid or has expired. Please request a new one.</p>
      <a href="{% url 'password_reset' %}" style="color:#8fd8ff;text-decoration:none;">Request a new link</a>
    {% endif %}
  </div>
</body>
</html>
